# FViewer 用户指南

## 欢迎使用 FViewer 2.0！

FViewer 是一款优雅的数据文件浏览和查询工具，专为 macOS 设计，采用现代化界面，让数据探索变得简单而愉悦。

---

## 🎯 界面导览

### 左侧边栏（绿色区域）

#### 应用标题
- **📊 FViewer** - 应用名称和图标
- 位于顶部，清晰标识应用身份

#### Library 区域
- **LIBRARY** 标签 - 您的数据文件库
- 显示所有已加载的文件

#### 操作按钮
- **📄 Add File** - 添加单个数据文件
- **📁 Add Folder** - 批量添加文件夹中的所有文件

#### 文件列表
- **文件项**：显示文件别名和原文件名
- **选中状态**：白色半透明背景高亮
- **删除按钮**：圆形红色 × 按钮，点击删除文件

### 右侧主内容区（白色背景）

#### 标题栏
- **Data Explorer** - 数据探索器标题

#### 数据预览卡片（上方卡片）
- **标题**：📊 Data Preview
- **统计信息**：显示总行数、列数、当前显示行数
- **数据表格**：
  - 灰色背景表头
  - 白色数据行
  - 绿色选中行
  - 38px 行高，易于阅读
  - 支持横向和纵向滚动

#### SQL 查询卡片（下方卡片）
- **标题**：⚡ SQL Query
- **输入框**：等宽字体，适合编写 SQL
- **Run Query 按钮**：绿色主按钮，▶ 图标
- **Export 按钮**：白色次要按钮，支持 JSON 和 CSV 格式

---

## 📖 使用场景

### 场景 1：快速查看数据文件

1. 点击 **📄 Add File**
2. 选择您的数据文件（CSV、JSON、Parquet）
3. 输入一个表名（或使用默认建议）
4. 文件立即出现在左侧列表
5. 点击文件名，右侧显示数据预览

**适用于**：快速浏览数据文件内容

### 场景 2：批量加载文件夹

1. 点击 **📁 Add Folder**
2. 选择包含多个数据文件的文件夹
3. 系统自动合并所有文件到一张表
4. 输入表名
5. 预览合并后的数据

**适用于**：处理分片数据文件

### 场景 3：SQL 数据分析

1. 加载一个或多个数据文件
2. 在 SQL 输入框输入查询语句
3. 点击 **▶ Run Query** 执行
4. 查看查询结果和统计信息
5. 根据需要调整查询

**适用于**：数据探索、聚合分析、多表关联

### 场景 4：导出查询结果

1. 执行 SQL 查询获得结果
2. 点击 **📄 Export JSON** 或 **📊 Export CSV**
3. 选择保存位置
4. 获得导出的数据文件

**适用于**：保存分析结果、数据转换

---

## 💡 使用技巧

### SQL 查询技巧

#### 基础查询
```sql
-- 查看所有数据
SELECT * FROM my_table;

-- 限制行数
SELECT * FROM my_table LIMIT 100;

-- 条件筛选
SELECT * FROM my_table WHERE age > 18;
```

#### 聚合分析
```sql
-- 计数
SELECT COUNT(*) FROM my_table;

-- 分组统计
SELECT category, COUNT(*), AVG(price)
FROM my_table
GROUP BY category;

-- 排序
SELECT * FROM my_table
ORDER BY created_at DESC
LIMIT 10;
```

#### 多表关联
```sql
-- 内连接
SELECT t1.*, t2.name
FROM table1 t1
JOIN table2 t2 ON t1.id = t2.user_id;

-- 左连接
SELECT t1.*, t2.value
FROM table1 t1
LEFT JOIN table2 t2 ON t1.key = t2.key;
```

### 文件命名建议

- **使用有意义的表名**：`user_data` 而不是 `table1`
- **遵循 SQL 规范**：只使用字母、数字、下划线
- **避免保留字**：不要使用 `select`、`from` 等

### 性能优化

- **预览数据**：默认只显示前 10 行，不影响完整数据
- **导出全量**：导出时包含所有查询结果
- **大文件处理**：加载大文件时请耐心等待进度条

---

## 🎨 界面主题

### 配色方案
- **主色**：绿色 #4CAF50 - 代表数据和活力
- **背景**：浅灰 #F8F9FA - 柔和不刺眼
- **卡片**：纯白 #FFFFFF - 清晰干净
- **文本**：深灰系列 - 易读性佳

### 设计原则
- **卡片化**：功能模块清晰分离
- **圆角**：柔和友好的视觉体验
- **层次**：通过颜色和间距建立视觉层次
- **一致性**：统一的设计语言

---

## ⌨️ 快捷操作

### 文件操作
- 点击文件项 → 立即预览
- 点击 × 按钮 → 删除文件

### 查询操作
- 在 SQL 框输入查询
- 点击 Run Query 或按下按钮执行
- 结果立即显示在预览区域

### 导出操作
- 查询后立即可导出
- 支持两种格式（JSON、CSV）
- 选择保存位置即可

---

## 🔍 常见问题

### Q: 支持哪些文件格式？
**A:** 支持 CSV、JSON（JSONL）、Parquet 三种格式。

### Q: 文件大小有限制吗？
**A:** 理论上没有限制，但大文件会影响加载速度。建议单文件不超过 1GB。

### Q: 可以同时加载多个文件吗？
**A:** 可以！每个文件都会创建独立的表，可以通过 SQL 进行关联查询。

### Q: 数据会保存吗？
**A:** 数据存储在内存数据库中，关闭应用后不会保存。导出查询结果可永久保存。

### Q: 如何查看表的结构？
**A:** 使用 SQL 查询：
```sql
DESCRIBE my_table;
-- 或
PRAGMA table_info('my_table');
```

### Q: 支持暗色模式吗？
**A:** 当前版本为浅色模式，暗色模式在开发计划中。

---

## 📞 获取帮助

- **文档**：查看 README.md 和 DESIGN_UPDATE.md
- **问题反馈**：通过 GitHub Issues 提交
- **功能建议**：欢迎在 Issues 中讨论

---

## 🚀 享受数据探索之旅！

FViewer 致力于让数据分析变得简单、高效、愉悦。祝您使用愉快！

---

**版本**：2.0.0  
**更新日期**：2025-12-08  
**设计理念**：优雅、现代、高效

